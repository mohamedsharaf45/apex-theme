{#
/**
 * @file
 * Apex Theme - Team member component template.
 *
 * Variables:
 * - image: member photo URL.
 * - name: member name.
 * - role: job title / role.
 * - bio: short biography text.
 * - url: link to full profile.
 * - social: array of social links [{platform, url, icon}].
 * - variant: variant (default, card, minimal, overlay).
 *
 * Usage:
 * {% include '@apex/templates/components/team-member.html.twig' with {
 *   image: '/path/to/photo.jpg',
 *   name: 'Jane Smith',
 *   role: 'Creative Director',
 *   social: [
 *     { platform: 'linkedin', url: '#' },
 *     { platform: 'twitter', url: '#' },
 *   ]
 * } %}
 */
#}

{%
  set member_classes = [
    'apex-team-member',
    'apex-team-member--' ~ (variant|default('default')),
  ]
%}

<div{{ attributes|default(create_attribute()).addClass(member_classes) }}>

  {# Photo #}
  {% if image %}
  <div class="apex-team-member__image">
    <img src="{{ image }}" alt="{{ name }}" loading="lazy" />

    {# Social Links (overlay on hover) #}
    {% if social %}
    <div class="apex-team-member__social">
      {% for link in social %}
      <a href="{{ link.url }}" class="apex-team-member__social-link" target="_blank"
         rel="noopener noreferrer" aria-label="{{ link.platform }}">
        {% if link.platform == 'facebook' %}
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/></svg>
        {% elseif link.platform == 'twitter' %}
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"/></svg>
        {% elseif link.platform == 'linkedin' %}
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2zM4 6a2 2 0 100-4 2 2 0 000 4z"/></svg>
        {% elseif link.platform == 'instagram' %}
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="20" rx="5"/><path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>
        {% endif %}
      </a>
      {% endfor %}
    </div>
    {% endif %}
  </div>
  {% endif %}

  {# Info #}
  <div class="apex-team-member__content">
    {% if name %}
    <h3 class="apex-team-member__name">
      {% if url %}
        <a href="{{ url }}">{{ name }}</a>
      {% else %}
        {{ name }}
      {% endif %}
    </h3>
    {% endif %}

    {% if role %}
    <p class="apex-team-member__role">{{ role }}</p>
    {% endif %}

    {% if bio %}
    <p class="apex-team-member__bio">{{ bio }}</p>
    {% endif %}
  </div>

</div>
